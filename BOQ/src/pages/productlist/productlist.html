<!--
  Generated template for the ProductlistPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <BOQ-Header></BOQ-Header>
</ion-header>


<ion-content padding>

  <div *ngIf="Ready">
      <ion-row>
          <ion-searchbar [(ngModel)]="SearchTerm" (ionInput)="search()" placeholder="Search" ></ion-searchbar>
      </ion-row>


      <ion-row>
      <ion-slides  loop="false"  pager="false" parallax="true" dir="ltr" slidesPerView='4'>
        <ion-slide class="cat-slide" (tap)="filter()">
          <div *ngIf="ActiveNow == -1"class="cat-slide-activated">
              All
          </div>
          <div *ngIf="ActiveNow != -1" >
              All
          </div>
          </ion-slide>
        <ion-slide *ngFor="let slide of listedPos ; let i= index" (tap)="filter(slide,i)">
          <div *ngIf="ActiveNow == i" class="cat-slide-activated">
              {{slide.name}}
          </div>
          <div *ngIf="ActiveNow !=i">
              {{slide.name}}
          </div>
        </ion-slide>
     </ion-slides>
    </ion-row>



      <ion-row>
          <button ion-button class="order-button" (tap)="order()">Order</button>
      </ion-row>

      <ion-row *ngIf="ActiveNow != -1">
        <button ion-button class="pos-button" (tap)="goToPage()">provider`s page</button>
    </ion-row>
    
  </div>
<ion-scroll scrollY="true" style="height: 80%;" *ngIf="Ready ">
    
          <ion-list>
            <ion-item  *ngFor="let element of listedArr ; let index = index ; trackBy:trackByIndex">
              <ion-row>
                <ion-col col-auto>
                <ion-thumbnail item-start>
                    <img *ngIf="element.item.imageUrl"  [src]="element.item.imageUrl" >
                    <img *ngIf="!element.item.imageUrl"  src="assets/img/no-img.jpeg">
                </ion-thumbnail>
                </ion-col>
    
    
    
                <ion-col>
                <ion-row  class="desc-row">
                <p>{{element.item.name}}</p>
                  </ion-row>
                  <ion-row>
                    <ion-col>
                  <p>{{element.item.price}} LE</p>
                    </ion-col>
    
                    <ion-col>
                        <button class="rest-button" (tap)="changeNumber('remove',index)" ion-button>
                            <ion-icon  class="icon-no-margin"   name="remove" ></ion-icon>
                         </button>
                    </ion-col>
    
                    <ion-col>
                        <div   class="rest-input">
                            {{orders[index].quantity}}
                          </div>
                    </ion-col>
    
                    <ion-col>
                        <button class="rest-button" ion-button (tap)="changeNumber('add',index)"> 
                            <ion-icon class="icon-no-margin" name="add" ></ion-icon>
                          </button>
                    </ion-col>
                    
                  </ion-row>

                  <ion-row>
                      <p>{{element.pos}}</p>
                    </ion-row>
                </ion-col>
              </ion-row>
    
    
            </ion-item>
          </ion-list>
    
      </ion-scroll>
</ion-content>
